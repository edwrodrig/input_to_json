var FORM={};FORM.get_type=function(t){var e="object";if("INPUT"==t.tagName){var r=t.hasAttribute("type")?t.getAttribute("type"):"text";e="number"==r?"number":"file"==r?"file":"default"}return t.hasAttribute("data-type")&&(e=t.getAttribute("data-type")),e},FORM.get_parent=function(t){do if(t.hasAttribute("service"))break;while(t=t.parentElement);return t},FORM.create=function(t){var e=this.get_type(t);return FORM.input.hasOwnProperty(e)?new FORM.input[e](t):new FORM.input["default"](t)},FORM.input={},FORM.input["default"]=function(t){this.e=t},FORM.input["default"].prototype.get=function(){return this.e.value},FORM.input["default"].prototype.set=function(t){this.e.value=t},FORM.input["default"].prototype.clear=function(){this.e.value=""},FORM.input["default"].prototype.get_elements=function(){return{}},FORM.input.number=function(t){FORM.input["default"].call(this,t)},FORM.input.number.prototype=Object.create(FORM.input["default"].prototype),FORM.input.number.prototype.construct=FORM.input.number,FORM.input.number.prototype.get=function(){return parseInt(this.e.value)},FORM.input.number.prototype.set=function(t){this.e.value=parseInt(t.parseInt)},FORM.input.file=function(t){FORM.input["default"].call(this,t)},FORM.input.file.prototype=Object.create(FORM.input["default"].prototype),FORM.input.file.prototype.constructor=FORM.input.file,FORM.input.file.prototype.get=function(){return this.e.files.length>0?this.e.files[0]:null},FORM.input.file.prototype.set=function(t){},FORM.input.array=function(t){FORM.input["default"].call(this,t),this.body=t.querySelector("[data-type=array-body]"),this.item=t.querySelector("[data-type=array-item]").firstElementChild},FORM.input.array.prototype.get_elements=function(){for(var t=[],e=this.body.children,r=0;r<e.length;r++){var n=e[r];if(n.hasAttribute("name"))t.push(n);else for(var i=FORM.create(n).get_elements(),a=0;a<i.length;a++)t.push(i[a])}return t},FORM.input.array.prototype.new_item=function(){return this.item.cloneNode(!0)},FORM.input.array.prototype.get=function(){for(var t=this.get_elements(),e=[],r=0;r<t.length;r++){var n=t[r];e.push(FORM.create(n).get())}return e},FORM.input.array.prototype.set=function(t){this.clear();for(var e=0;e<t.length;e++)this.add(t[e])},FORM.input.array.prototype.add=function(t){var e=this.new_item();FORM.create(e).set(t),this.body.appendChild(e)},FORM.input.array.prototype.clear=function(){this.body.innerHTML=""},FORM.input.object=function(t){FORM.input["default"].call(this,t)},FORM.input.object.prototype.get_elements=function(){for(var t={},e=this.e.children,r=0;r<e.length;r++){var n=e[r];if(n.hasAttribute("name")){var i=n.getAttribute("name");t[i]=n}else{var a=FORM.create(n);a=a.get_elements();for(var i in a)a.hasOwnProperty(i)&&(t[i]=a[i])}}return t},FORM.input.object.prototype.get=function(){var t=this.get_elements(),e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=FORM.create(t[r]).get());return e},FORM.input.object.prototype.set=function(t){var e=this.get_elements();for(var r in e)e.hasOwnProperty(r)&&(t.hasOwnProperty(r)?FORM.create(e[r]).set(t[r]):FORM.create(e[r]).clear())},FORM.input.object.prototype.clear=function(){var t=this.get_elements();for(var e in t)t.hasOwnProperty(e)&&FORM.create(t[e]).clear()},FORM.get=function(t,e){var r=FORM.create(t).get();return"form_data"===e?FORM.to_form(r):r},FORM.to_form=function(t){var e=new FormData;for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];e.append(r,n)}return e},FORM.signal=function(t,e){t=FORM.get_parent(t);var r=FORM.get(t);e(r)};