<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <script src="js/elem.js"></script>
</head>
<body>
<table>
<thead>
  <tr>
    <th>Name</th><th>Age</th>
  </tr>
</thead>
<tbody id="array" data-type="array" item-template-id="item-template">
</tbody>
</table>
<button type="button" onclick="get_max(ELEM.get('array').value)">Get Max</button>
<button type="button" onclick="add(ELEM.get('array'))">Add</button>
<template id="item-template">
  <tr data-type="object">
    <td name="name"/><td/><td name="age"></td>
  </tr>
</template>
<script>
function get_max(value) {
  var name = '';
  var max = -999;
  for ( var i = 0 ; i < value.length ; i++ ) {
    if ( value[i].age > max ) {
      max = value[i].age;
      name = value[i].name;
    }
  }
  alert('The oldest is ' + name);
}

function add(e) {
   e.add({name: 'Nuevo', age: 10});
}
</script>
</body>
</html>
